<!doctype html><html lang=pt-BR><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Toposia - Compiladores</title><link media="(prefers-color-scheme: light)" href=/img/dark-favicon.svg rel=icon><link media="(prefers-color-scheme: dark)" href=/img/light-favicon.svg rel=icon><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link href=/css/bundle.min.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css rel=stylesheet><script src=https://unpkg.com/lucide@latest></script></head><body><div class=page-wrapper><nav class=sidebar><div class=sidebar-content><header class=sidebar-title-section><a class=course-title-link href=contents.html> <h1 class=sidebar-course-title>Compiladores</h1> </a><div class=sidebar-ornament>❧</div></header><section class=sidebar-toc-section><h2 class=toc-header>Tabela de Conteúdos</h2><ol class=toc-list><li class="toc-item level-2"><a href=#introdução>4.1. Introdução</a></li><li class="toc-item level-2"><a href=#processo-de-compilação>4.2. Processo de Compilação</a></li><li class="toc-item level-3"><a href=#front-end>4.2.1. Front-end</a></li><li class="toc-item level-4"><a href=#analisador-léxico>4.2.1.1. Analisador Léxico</a></li><li class="toc-item level-4"><a href=#analisador-sintático>4.2.1.2. Analisador Sintático</a></li><li class="toc-item level-4"><a href=#analisador-semântico>4.2.1.3. Analisador Semântico</a></li><li class="toc-item level-3"><a href=#back-end>4.2.2. Back-end</a></li><li class="toc-item level-4"><a href=#otimização>4.2.2.1. Otimização</a></li><li class="toc-item level-4"><a href=#geração-de-código>4.2.2.2. Geração de código</a></li><li class="toc-item level-2"><a href=#questões>4.3. Questões</a></li><li class="toc-item level-2"><a href=#próximos-passos>4.4. Próximos passos</a></li></ol></section><nav class=sidebar-nav-section><a class="sidebar-nav-link prev" href=3-the-cpu.html><i class=nav-icon data-lucide=chevron-left></i> A CPU</a><a class="sidebar-nav-link next" href=5-introduction-to-lexical-analysis.html>Introdução à Análise Léxica <i class=nav-icon data-lucide=chevron-right></i></a><a class="sidebar-nav-link back" href=javascript:void(0) onclick=handleBackNavigation()><i class=nav-icon data-lucide=arrow-left></i> Voltar</a></nav></div></nav><button aria-label=Menu class=mobile-menu-toggle><div class=hamburger-container><span class=hamburger-line></span><span class=hamburger-line></span><span class=hamburger-line></span></div></button><button aria-label="Alternar Barra Lateral" class=sidebar-toggle onclick=CourseForgeNav.toggleSidebar()><i class=toggle-icon data-lucide=chevron-left></i></button><div class=mobile-menu-overlay></div><main class=main-content><article class=article><header class=article-header><span class=chapter-number>4</span><h1 class=article-title><span class="title-ornament left">❧</span> <span class=title-text>Etapas do Processo de Compilação</span> <span class="title-ornament right">❧</span></h1><p class=article-date>17/01/2026</p><nav aria-label=Breadcrumb class=breadcrumb><a class=breadcrumb-link href=contents.html>Compiladores</a><span class=breadcrumb-separator><i class=breadcrumb-icon data-lucide=chevron-right></i></span><a class=breadcrumb-link href=contents.html#part-I>I - Introdução</a><span class=breadcrumb-separator><i class=breadcrumb-icon data-lucide=chevron-right></i></span><span class=breadcrumb-current>Etapas do Processo de Compilação</span></nav></header><div class=article-body><h2 id=introdução><span class=heading-text>Introdução</span><span class=heading-arabic>4.1</span></h2><p>Nos capítulos anteriores, discutimos em alto nível o funcionamento do processador e o interesse do compilador nesse ecossistema. Estabelecemos que o objetivo central é transformar uma linguagem de alto nível em uma linguagem de baixo nível, a qual será convertida em binários pelo montador. Neste capítulo, aprofundaremos essa discussão detalhando como o processo de compilação é formalmente estruturado e quais responsabilidades recaem sobre cada uma de suas etapas.</p><h2 id=processo-de-compilação><span class=heading-text>Processo de Compilação</span><span class=heading-arabic>4.2</span></h2><p>O processo de compilação é estruturado em fases distintas que operam em sequência. De maneira ampla, concebemos o compilador como um sistema que recebe um programa fonte e o converte para um programa objeto. Este programa objeto atua como uma representação intermediária que, posteriormente, será unida às bibliotecas compartilhadas do sistema para formar o executável final. O diagrama a seguir resume essa visão macroscópica do sistema de conversão.</p><div class=no-break><div class=centered><svg class="svg-graph graphviz-img" viewbox="0.00 0.00 492.00 99.00" data-sketch=true width=450 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 95)" class=graph id=graph0><title>Flowchart</title><g class=cluster id=clust1><title>cluster_process</title><path d="M200,-8C200,-8 278,-8 278,-8 284,-8 290,-14 290,-20 290,-20 290,-71 290,-71 290,-77 284,-83 278,-83 278,-83 200,-83 200,-83 194,-83 188,-77 188,-71 188,-71 188,-20 188,-20 188,-14 194,-8 200,-8" fill=#f5f5e8 stroke=#d6d6a5 /><text font-family=Times,serif font-size=14.00 text-anchor=middle x=239 y=-67.8>Processo</text></g><g class=node id=node1><title>B</title><path d="M270,-52C270,-52 208,-52 208,-52 202,-52 196,-46 196,-40 196,-40 196,-28 196,-28 196,-22 202,-16 208,-16 208,-16 270,-16 270,-16 276,-16 282,-22 282,-28 282,-28 282,-40 282,-40 282,-46 276,-52 270,-52" fill=none stroke=#333333 stroke-dasharray=5,2 stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=239 y=-30.9>Compilador</text></g><g class=node id=node3><title>C</title><path d="M472,-52C472,-52 380,-52 380,-52 374,-52 368,-46 368,-40 368,-40 368,-28 368,-28 368,-22 374,-16 380,-16 380,-16 472,-16 472,-16 478,-16 484,-22 484,-28 484,-28 484,-40 484,-40 484,-46 478,-52 472,-52" fill=transparent stroke=#8a6cff stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=426 y=-30.9>Programa objeto</text></g><g class=edge id=edge2><title>B->C</title><path d="M282.22,-32.45C318.19,-31.19 340.53,-30.53 357.71,-30.47" fill=none stroke=#333333 /><polygon points="357.81,-33.97 367.82,-30.51 357.83,-26.97 357.81,-33.97" fill=#333333 stroke=#333333 /></g><g class=node id=node2><title>A</title><path d="M98,-52C98,-52 12,-52 12,-52 6,-52 0,-46 0,-40 0,-40 0,-28 0,-28 0,-22 6,-16 12,-16 12,-16 98,-16 98,-16 104,-16 110,-22 110,-28 110,-28 110,-40 110,-40 110,-46 104,-52 98,-52" fill=transparent stroke=#8a6cff stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=55 y=-30.9>Programa fonte</text></g><g class=edge id=edge1><title>A->B</title><path d="M110.37,-30.75C127.37,-30.5 148.28,-30.98 185.5,-32.19" fill=none stroke=#333333 /><polygon points="185.77,-35.7 195.88,-32.53 186,-28.7 185.77,-35.7" fill=#333333 stroke=#333333 /></g></g></svg></div></div><p>Nesse contexto, é relevante traçar um paralelo com o papel do interpretador. Ao longo da disciplina, veremos que o interpretador compartilha muitas similaridades técnicas com o compilador. A distinção fundamental reside no fato de que o interpretador recebe o código fonte juntamente com as entradas do usuário e executa as instruções imediatamente, em vez de gerar um novo programa para realizar essa tarefa.</p><div class=no-break><div class=centered><svg class="svg-graph graphviz-img" viewbox="0.00 0.00 442.00 138.00" data-sketch=true width=450 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 134)" class=graph id=graph0><title>Flowchart</title><g class=cluster id=clust1><title>cluster_process</title><path d="M201,-39C201,-39 290,-39 290,-39 296,-39 302,-45 302,-51 302,-51 302,-102 302,-102 302,-108 296,-114 290,-114 290,-114 201,-114 201,-114 195,-114 189,-108 189,-102 189,-102 189,-51 189,-51 189,-45 195,-39 201,-39" fill=#f5f5e8 stroke=#d6d6a5 /><text font-family=Times,serif font-size=14.00 text-anchor=middle x=245.5 y=-98.8>Processo</text></g><g class=node id=node1><title>I</title><path d="M282,-83C282,-83 209,-83 209,-83 203,-83 197,-77 197,-71 197,-71 197,-59 197,-59 197,-53 203,-47 209,-47 209,-47 282,-47 282,-47 288,-47 294,-53 294,-59 294,-59 294,-71 294,-71 294,-77 288,-83 282,-83" fill=none stroke=#333333 stroke-dasharray=5,2 stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=245.5 y=-61.9>Interpretador</text></g><g class=node id=node4><title>S</title><path d="M422,-83C422,-83 392,-83 392,-83 386,-83 380,-77 380,-71 380,-71 380,-59 380,-59 380,-53 386,-47 392,-47 392,-47 422,-47 422,-47 428,-47 434,-53 434,-59 434,-59 434,-71 434,-71 434,-77 428,-83 422,-83" fill=none stroke=#8a6cff stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=407 y=-61.9>saída</text></g><g class=edge id=edge3><title>I->S</title><path d="M294.13,-65C334.32,-65 352.52,-65 369.75,-65" fill=none stroke=#333333 /><polygon points="369.95,-68.5 379.95,-65 369.95,-61.5 369.95,-68.5" fill=#333333 stroke=#333333 /></g><g class=node id=node2><title>A</title><path d="M99,-130C99,-130 12,-130 12,-130 6,-130 0,-124 0,-118 0,-118 0,-106 0,-106 0,-100 6,-94 12,-94 12,-94 99,-94 99,-94 105,-94 111,-100 111,-106 111,-106 111,-118 111,-118 111,-124 105,-130 99,-130" fill=none stroke=#8a6cff stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=55.5 y=-108.9>programa fonte</text></g><g class=edge id=edge1><title>A->I</title><path d="M111.27,-101.05C128.69,-97.02 149.56,-91.48 186.91,-81.2" fill=none stroke=#333333 /><polygon points="188.06,-84.51 196.77,-78.48 186.2,-77.77 188.06,-84.51" fill=#333333 stroke=#333333 /></g><g class=node id=node3><title>E</title><path d="M75.5,-36C75.5,-36 35.5,-36 35.5,-36 29.5,-36 23.5,-30 23.5,-24 23.5,-24 23.5,-12 23.5,-12 23.5,-6 29.5,0 35.5,0 35.5,0 75.5,0 75.5,0 81.5,0 87.5,-6 87.5,-12 87.5,-12 87.5,-24 87.5,-24 87.5,-30 81.5,-36 75.5,-36" fill=none stroke=#8a6cff stroke-width=2 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=12.00 text-anchor=middle x=55.5 y=-14.9>entrada</text></g><g class=edge id=edge2><title>E->I</title><path d="M87.76,-23.95C112.8,-28.84 132.14,-33.73 187.08,-48.85" fill=none stroke=#333333 /><polygon points="186.41,-52.29 196.98,-51.57 188.27,-45.54 186.41,-52.29" fill=#333333 stroke=#333333 /></g></g></svg></div></div><p>Para fins de estudo e implementação, essa visão monolítica do compilador é fragmentada em duas grandes áreas, as etapas de análise, conhecidas como front-end, e as etapas de síntese ou geração, denominadas back-end.</p><p>Nas disciplinas de construção de compiladores, o foco recai predominantemente sobre o front-end. Esta fase compreende, nesta ordem precisa, a Análise Léxica, a Análise Sintática e a Análise Semântica. Já as etapas de back-end, que abordaremos de forma mais sucinta, encarregam-se da otimização do código gerado e da emissão do código de máquina (seja binário ou assembly). A reutilização de back-ends existentes, como o do LLVM, é uma prática comum na indústria, pois permite que desenvolvedores de novas linguagens evitem o esforço hercúleo de suportar múltiplas arquiteturas de hardware, aproveitando ferramentas validadas por décadas de uso.</p><h3 id=front-end><span class=heading-text>Front-end</span><span class=heading-arabic>4.2.1</span></h3><p>As etapas iniciais, ou front-end, são responsáveis pela análise do código fonte. O objetivo é transformar um texto bruto em uma estrutura de dados rica, capaz de representar o programa de forma que facilite sua manipulação subsequente.</p><p>O processo inicia-se com o processamento de uma sequência de caracteres e culmina na geração de uma Representação Intermediária (IR). O fluxo abaixo evidencia a ordem de execução e os artefatos produzidos em cada passo.</p><div class=no-break><div class=centered><svg class="svg-graph graphviz-img" viewbox="0.00 0.00 716.00 239.00" data-sketch=true width=550 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 235)" class=graph id=graph0><title>CompilerFlow</title><g class=node id=node1><title>TS</title><path d="M137,-231C137,-231 12,-231 12,-231 6,-231 0,-225 0,-219 0,-219 0,-207 0,-207 0,-201 6,-195 12,-195 12,-195 137,-195 137,-195 143,-195 149,-201 149,-207 149,-207 149,-219 149,-219 149,-225 143,-231 137,-231" fill=transparent stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=74.5 y=-209.3>Tabela de Símbolos</text></g><g class=node id=node2><title>IN</title><path d="M274,-231C274,-231 233,-231 233,-231 227,-231 221,-225 221,-219 221,-219 221,-207 221,-207 221,-201 227,-195 233,-195 233,-195 274,-195 274,-195 280,-195 286,-201 286,-207 286,-207 286,-219 286,-219 286,-225 280,-231 274,-231" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=253.5 y=-209.3>Código</text></g><g class=node id=node3><title>AL</title><path d="M310.5,-166C310.5,-166 196.5,-166 196.5,-166 190.5,-166 184.5,-160 184.5,-154 184.5,-154 184.5,-142 184.5,-142 184.5,-136 190.5,-130 196.5,-130 196.5,-130 310.5,-130 310.5,-130 316.5,-130 322.5,-136 322.5,-142 322.5,-142 322.5,-154 322.5,-154 322.5,-160 316.5,-166 310.5,-166" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=253.5 y=-144.3>Analisador Léxico</text></g><g class=edge id=edge1><title>IN->AL</title><path d="M246.56,-194.99C244.78,-188.3 244.91,-182.6 246.95,-173.11" fill=none stroke=#333333 /><polygon points="249.34,-173.66 248.57,-166.28 244.57,-172.53 249.34,-173.66" fill=#333333 stroke=#333333 /></g><g class=node id=node4><title>FT</title><path d="M273,-101C273,-101 234,-101 234,-101 228,-101 222,-95 222,-89 222,-89 222,-77 222,-77 222,-71 228,-65 234,-65 234,-65 273,-65 273,-65 279,-65 285,-71 285,-77 285,-77 285,-89 285,-89 285,-95 279,-101 273,-101" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=253.5 y=-79.3>Tokens</text></g><g class=edge id=edge2><title>AL->FT</title><path d="M246.5,-129.67C243.69,-121.18 243.03,-115.55 244.54,-108.39" fill=none stroke=#333333 /><polygon points="247,-108.66 246.52,-101.26 242.28,-107.35 247,-108.66" fill=#333333 stroke=#333333 /></g><g class=node id=node5><title>AS</title><path d="M319,-36C319,-36 188,-36 188,-36 182,-36 176,-30 176,-24 176,-24 176,-12 176,-12 176,-6 182,0 188,0 188,0 319,0 319,0 325,0 331,-6 331,-12 331,-12 331,-24 331,-24 331,-30 325,-36 319,-36" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=253.5 y=-14.3>Analisador Sintático</text></g><g class=edge id=edge3><title>FT->AS</title><path d="M248.59,-64.81C246.11,-55.04 245.04,-48.83 245.37,-43.17" fill=none stroke=#333333 /><polygon points="247.82,-43.38 246.54,-36.08 242.99,-42.58 247.82,-43.38" fill=#333333 stroke=#333333 /></g><g class=node id=node6><title>ArS1</title><path d="M682.5,-231C682.5,-231 566.5,-231 566.5,-231 560.5,-231 554.5,-225 554.5,-219 554.5,-219 554.5,-207 554.5,-207 554.5,-201 560.5,-195 566.5,-195 566.5,-195 682.5,-195 682.5,-195 688.5,-195 694.5,-201 694.5,-207 694.5,-207 694.5,-219 694.5,-219 694.5,-225 688.5,-231 682.5,-231" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=624.5 y=-209.3>Árvore de Sintaxe</text></g><g class=edge id=edge4><title>ArS1:sw->AS:ne</title><path d="M550.29,-189.1C497.67,-115.45 493.55,-113.48 331.5,-36" fill=none stroke=#333333 /><polygon points="548.44,-190.73 554.5,-195 552.43,-187.88 548.44,-190.73" fill=#333333 stroke=#333333 /></g><g class=node id=node7><title>ASe</title><path d="M696,-166C696,-166 553,-166 553,-166 547,-166 541,-160 541,-154 541,-154 541,-142 541,-142 541,-136 547,-130 553,-130 553,-130 696,-130 696,-130 702,-130 708,-136 708,-142 708,-142 708,-154 708,-154 708,-160 702,-166 696,-166" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=624.5 y=-144.3>Analisador Semântico</text></g><g class=edge id=edge5><title>ArS1->ASe</title><path d="M631.76,-194.97C634.36,-187.07 634.68,-181.46 632.71,-173.16" fill=none stroke=#333333 /><polygon points="635.01,-172.28 630.76,-166.2 630.29,-173.6 635.01,-172.28" fill=#333333 stroke=#333333 /></g><g class=node id=node8><title>ArS2</title><path d="M682.5,-101C682.5,-101 566.5,-101 566.5,-101 560.5,-101 554.5,-95 554.5,-89 554.5,-89 554.5,-77 554.5,-77 554.5,-71 560.5,-65 566.5,-65 566.5,-65 682.5,-65 682.5,-65 688.5,-65 694.5,-71 694.5,-77 694.5,-77 694.5,-89 694.5,-89 694.5,-95 688.5,-101 682.5,-101" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=624.5 y=-79.3>Árvore de Sintaxe</text></g><g class=edge id=edge6><title>ASe->ArS2</title><path d="M631.5,-129.67C634.31,-121.18 634.97,-115.55 633.46,-108.39" fill=none stroke=#333333 /><polygon points="635.72,-107.35 631.48,-101.26 631,-108.66 635.72,-107.35" fill=#333333 stroke=#333333 /></g><g class=node id=node9><title>GCI</title><path d="M639.5,-36C639.5,-36 609.5,-36 609.5,-36 603.5,-36 597.5,-30 597.5,-24 597.5,-24 597.5,-12 597.5,-12 597.5,-6 603.5,0 609.5,0 609.5,0 639.5,0 639.5,0 645.5,0 651.5,-6 651.5,-12 651.5,-12 651.5,-24 651.5,-24 651.5,-30 645.5,-36 639.5,-36" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=624.5 y=-14.3>IR</text></g><g class=edge id=edge7><title>ArS2->GCI</title><path d="M630.73,-64.92C633.68,-55.49 634.63,-49.58 633.55,-43.05" fill=none stroke=#333333 /><polygon points="635.9,-42.34 631.8,-36.16 631.15,-43.55 635.9,-42.34" fill=#333333 stroke=#333333 /></g></g></svg></div></div><h4 id=analisador-léxico><span class=heading-text>Analisador Léxico</span><span class=heading-arabic>4.2.1.1</span></h4><p>A primeira etapa é a análise léxica, que converte o código fonte (um fluxo de caracteres sem significado inerente) em <em><strong>tokens</strong></em>. Os tokens são blocos de texto classificados com um significado específico para o compilador. Fazendo uma analogia com a língua portuguesa, essa etapa equivaleria à análise morfológica, onde classificamos palavras como substantivos, adjetivos ou preposições.</p><p>Considere o trecho de código em C abaixo, que calcula uma posição final baseada em uma posição inicial, uma taxa de variação e um tempo.</p><pre class="line-numbers language-c" data-lang=C><code class=language-c>position = initial + rate * 60;
</code></pre><p>Ao ser processado pelo analisador léxico, esse código resulta em uma sequência de tokens. Identificamos elementos como identificadores (nomes de variáveis), operadores (atribuição, matemáticos) e literais numéricos. Na aula específica sobre analisadores léxicos, construiremos uma ferramenta capaz de realizar essa classificação.</p><div class=no-break><div class=centered><svg class="svg-graph graphviz-img" viewbox="0.00 0.00 658.50 131.00" data-sketch=true width=660 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(0 131)" class=graph id=graph0><title>LexicalAnalysis</title><g class=node id=node1><title>src_row</title><polygon points="156.5,-79.5 156.5,-116.5 231.5,-116.5 231.5,-79.5 156.5,-79.5" fill=transparent stroke=transparent /><polygon points="156.5,-79.5 156.5,-116.5 231.5,-116.5 231.5,-79.5 156.5,-79.5" fill=none stroke=#7fb881 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=167.5 y=-95.3>position</text><polygon points="241.5,-79.5 241.5,-116.5 272.5,-116.5 272.5,-79.5 241.5,-79.5" fill=transparent stroke=transparent /><polygon points="241.5,-79.5 241.5,-116.5 272.5,-116.5 272.5,-79.5 241.5,-79.5" fill=none stroke=#8f81c1 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=252.5 y=-95.3>=</text><polygon points="282.5,-79.5 282.5,-116.5 340.5,-116.5 340.5,-79.5 282.5,-79.5" fill=transparent stroke=transparent /><polygon points="282.5,-79.5 282.5,-116.5 340.5,-116.5 340.5,-79.5 282.5,-79.5" fill=none stroke=#7fb881 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=293.5 y=-95.3>initial</text><polygon points="350.5,-79.5 350.5,-116.5 381.5,-116.5 381.5,-79.5 350.5,-79.5" fill=transparent stroke=transparent /><polygon points="350.5,-79.5 350.5,-116.5 381.5,-116.5 381.5,-79.5 350.5,-79.5" fill=none stroke=#8f81c1 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=361.5 y=-95.3>+</text><polygon points="391.5,-79.5 391.5,-116.5 438.5,-116.5 438.5,-79.5 391.5,-79.5" fill=transparent stroke=transparent /><polygon points="391.5,-79.5 391.5,-116.5 438.5,-116.5 438.5,-79.5 391.5,-79.5" fill=none stroke=#7fb881 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=402.5 y=-95.3>rate</text><polygon points="448.5,-79.5 448.5,-116.5 476.5,-116.5 476.5,-79.5 448.5,-79.5" fill=transparent stroke=transparent /><polygon points="448.5,-79.5 448.5,-116.5 476.5,-116.5 476.5,-79.5 448.5,-79.5" fill=none stroke=#8f81c1 /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=459.5 y=-95.3>*</text><polygon points="486.5,-79.5 486.5,-116.5 524.5,-116.5 524.5,-79.5 486.5,-79.5" fill=transparent stroke=transparent /><polygon points="486.5,-79.5 486.5,-116.5 524.5,-116.5 524.5,-79.5 486.5,-79.5" fill=none stroke=#e5954e /><text font-family=Arial font-size=14.00 font-weight=bold text-anchor=start x=497.5 y=-95.3>60</text></g><g class=node id=node2><title>tk1</title><text fill=#7fb881 font-family=Arial font-size=14.00 text-anchor=middle x=55.5 y=-7.8>&lt;ID, "position"></text></g><g class=edge id=edge1><title>src_row:p1->tk1</title><path d="M155.5,-97.5C114.41,-97.5 81.58,-55.32 65.77,-30.38" fill=none stroke=#7fb881 stroke-width=1.2 /><polygon points="67.98,-28.63 61.42,-23.27 63.2,-31.55 67.98,-28.63" fill=#7fb881 stroke=#7fb881 stroke-width=1.2 /></g><g class=node id=node3><title>tk2</title><text fill=#8f81c1 font-family=Arial font-size=14.00 text-anchor=middle x=166.5 y=-7.8>&lt;OP, assign></text></g><g class=edge id=edge2><title>src_row:p2->tk2</title><path d="M256.5,-78.5C256.5,-53.06 232.83,-36.36 209.76,-26.12" fill=none stroke=#8f81c1 stroke-width=1.2 /><polygon points="210.79,-23.51 202.33,-23.02 208.64,-28.68 210.79,-23.51" fill=#8f81c1 stroke=#8f81c1 stroke-width=1.2 /></g><g class=node id=node4><title>tk3</title><text fill=#7fb881 font-family=Arial font-size=14.00 text-anchor=middle x=270.5 y=-7.8>&lt;ID, "initial"></text></g><g class=edge id=edge3><title>src_row:p3->tk3</title><path d="M311.5,-78.5C311.5,-59.66 299.3,-41.73 288.21,-29.33" fill=none stroke=#7fb881 stroke-width=1.2 /><polygon points="290.11,-27.27 282.58,-23.37 286.04,-31.11 290.11,-27.27" fill=#7fb881 stroke=#7fb881 stroke-width=1.2 /></g><g class=node id=node5><title>tk4</title><text fill=#8f81c1 font-family=Arial font-size=14.00 text-anchor=middle x=366.5 y=-7.8>&lt;OP, add></text></g><g class=edge id=edge4><title>src_row:p4->tk4</title><path d="M366.5,-78.5C366.5,-62.67 366.5,-44.71 366.5,-31.53" fill=none stroke=#8f81c1 stroke-width=1.2 /><polygon points="369.3,-31.25 366.5,-23.25 363.7,-31.25 369.3,-31.25" fill=#8f81c1 stroke=#8f81c1 stroke-width=1.2 /></g><g class=node id=node6><title>tk5</title><text fill=#7fb881 font-family=Arial font-size=14.00 text-anchor=middle x=458.5 y=-7.8>&lt;ID, "rate"></text></g><g class=edge id=edge5><title>src_row:p5->tk5</title><path d="M415.5,-78.5C415.5,-59.4 428.3,-41.5 439.93,-29.17" fill=none stroke=#7fb881 stroke-width=1.2 /><polygon points="442.16,-30.9 445.83,-23.26 438.2,-26.94 442.16,-30.9" fill=#7fb881 stroke=#7fb881 stroke-width=1.2 /></g><g class=node id=node7><title>tk6</title><text fill=#8f81c1 font-family=Arial font-size=14.00 text-anchor=middle x=542.5 y=-7.8>&lt;OP, *></text></g><g class=edge id=edge6><title>src_row:p6->tk6</title><path d="M462.5,-78.5C462.5,-54.34 484.48,-37.38 505.39,-26.7" fill=none stroke=#8f81c1 stroke-width=1.2 /><polygon points="506.71,-29.17 512.71,-23.18 504.29,-24.13 506.71,-29.17" fill=#8f81c1 stroke=#8f81c1 stroke-width=1.2 /></g><g class=node id=node8><title>tk7</title><text fill=#e5954e font-family=Arial font-size=14.00 text-anchor=middle x=620.5 y=-7.8>&lt;INT, 60></text></g><g class=edge id=edge7><title>src_row:p7->tk7</title><path d="M525.5,-97.5C565.41,-97.5 596.24,-55.32 610.97,-30.38" fill=none stroke=#e5954e stroke-width=1.2 /><polygon points="613.5,-31.6 615.02,-23.27 608.63,-28.84 613.5,-31.6" fill=#e5954e stroke=#e5954e stroke-width=1.2 /></g></g></svg></div></div><p>É importante notar que, embora o lexema "position" seja identificado, manipular strings constantemente é computacionalmente custoso. Para mitigar isso, utilizamos uma <strong>tabela de símbolos</strong>. Essa estrutura armazena os nomes das variáveis e strings literais, permitindo que o compilador trabalhe com referências numéricas leves em vez de textos completos.</p><h4 id=analisador-sintático><span class=heading-text>Analisador Sintático</span><span class=heading-arabic>4.2.1.2</span></h4><p>Com os tokens identificados, o próximo passo é compreender como eles se organizam. O analisador sintático verifica a estrutura formada pelos tokens. Retomando a analogia com a linguagem natural, se a análise léxica identifica as classes das palavras, a análise sintática identifica o sujeito e o predicado da oração.</p><p>Em programação, isso significa reconhecer estruturas gramaticais, como perceber que uma expressão entre parênteses seguida por um bloco de comandos constitui uma instrução <code>if</code>. A disposição dos tokens revela agrupamentos hierárquicos que dão forma ao programa.</p><p>O produto dessa etapa é a Árvore de Sintaxe Abstrata <em><strong>(Abstract Syntax Tree - AST)</strong></em>. Esta é, sem dúvida, a estrutura de dados mais crítica do compilador. Abaixo, visualizamos a AST para o código exemplificado anteriormente:</p><div class=no-break><div class=centered><svg class="svg-graph ast-plot-img" viewbox="0.00 0.00 281.00 239.00" data-sketch=true width=250 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 235)" class=graph id=graph0><title>AST</title><g class=node id=node1><title>n0</title><path d="M201.5,-231C201.5,-231 171.5,-231 171.5,-231 165.5,-231 159.5,-225 159.5,-219 159.5,-219 159.5,-207 159.5,-207 159.5,-201 165.5,-195 171.5,-195 171.5,-195 201.5,-195 201.5,-195 207.5,-195 213.5,-201 213.5,-207 213.5,-207 213.5,-219 213.5,-219 213.5,-225 207.5,-231 201.5,-231" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=186.5 y=-208>=</text></g><g class=node id=node2><title>n2</title><path d="M151.5,-166C151.5,-166 121.5,-166 121.5,-166 115.5,-166 109.5,-160 109.5,-154 109.5,-154 109.5,-142 109.5,-142 109.5,-136 115.5,-130 121.5,-130 121.5,-130 151.5,-130 151.5,-130 157.5,-130 163.5,-136 163.5,-142 163.5,-142 163.5,-154 163.5,-154 163.5,-160 157.5,-166 151.5,-166" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=136.5 y=-143>+</text></g><g class=edge id=edge2><title>n0->n2</title><path d="M172.84,-194.78C167.22,-187.7 160.62,-179.39 154.61,-171.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="156.42,-170.15 150.15,-166.19 152.58,-173.2 156.42,-170.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node4><title>n1</title><path d="M261,-166C261,-166 212,-166 212,-166 206,-166 200,-160 200,-154 200,-154 200,-142 200,-142 200,-136 206,-130 212,-130 212,-130 261,-130 261,-130 267,-130 273,-136 273,-142 273,-142 273,-154 273,-154 273,-160 267,-166 261,-166" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=236.5 y=-143>&lt;id,1></text></g><g class=edge id=edge1><title>n0->n1</title><path d="M200.16,-194.78C205.78,-187.7 212.38,-179.39 218.39,-171.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="220.42,-173.2 222.85,-166.19 216.58,-170.15 220.42,-173.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node3><title>n4</title><path d="M101.5,-101C101.5,-101 71.5,-101 71.5,-101 65.5,-101 59.5,-95 59.5,-89 59.5,-89 59.5,-77 59.5,-77 59.5,-71 65.5,-65 71.5,-65 71.5,-65 101.5,-65 101.5,-65 107.5,-65 113.5,-71 113.5,-77 113.5,-77 113.5,-89 113.5,-89 113.5,-95 107.5,-101 101.5,-101" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=86.5 y=-78>∗</text></g><g class=edge id=edge4><title>n2->n4</title><path d="M122.84,-129.78C117.22,-122.7 110.62,-114.39 104.61,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="106.42,-105.15 100.15,-101.19 102.58,-108.2 106.42,-105.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node5><title>n3</title><path d="M211,-101C211,-101 162,-101 162,-101 156,-101 150,-95 150,-89 150,-89 150,-77 150,-77 150,-71 156,-65 162,-65 162,-65 211,-65 211,-65 217,-65 223,-71 223,-77 223,-77 223,-89 223,-89 223,-95 217,-101 211,-101" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=186.5 y=-78>&lt;id,2></text></g><g class=edge id=edge3><title>n2->n3</title><path d="M150.16,-129.78C155.78,-122.7 162.38,-114.39 168.39,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="170.42,-108.2 172.85,-101.19 166.58,-105.15 170.42,-108.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node6><title>n5</title><path d="M61,-36C61,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 61,0 61,0 67,0 73,-6 73,-12 73,-12 73,-24 73,-24 73,-30 67,-36 61,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=36.5 y=-13>&lt;id,3></text></g><g class=edge id=edge5><title>n4->n5</title><path d="M72.84,-64.78C67.22,-57.7 60.62,-49.39 54.61,-41.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="56.42,-40.15 50.15,-36.19 52.58,-43.2 56.42,-40.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node7><title>n6</title><path d="M151.5,-36C151.5,-36 121.5,-36 121.5,-36 115.5,-36 109.5,-30 109.5,-24 109.5,-24 109.5,-12 109.5,-12 109.5,-6 115.5,0 121.5,0 121.5,0 151.5,0 151.5,0 157.5,0 163.5,-6 163.5,-12 163.5,-12 163.5,-24 163.5,-24 163.5,-30 157.5,-36 151.5,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=136.5 y=-13>60</text></g><g class=edge id=edge6><title>n4->n6</title><path d="M100.16,-64.78C105.78,-57.7 112.38,-49.39 118.39,-41.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="120.42,-43.2 122.85,-36.19 116.58,-40.15 120.42,-43.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g></g></svg></div></div><p>Estudaremos essa estrutura profundamente nos próximos capítulos. Observe que os nós internos representam operações ou estruturas sintáticas, enquanto os nós folhas contêm os valores ou identificadores. Embora o exemplo mostre uma árvore binária, na prática, os nós da AST podem ter múltiplos filhos, adequando-se à complexidade da instrução representada.</p><p>É igualmente relevante mencionar como o analisador lida com falhas. Em vez de abortar a compilação ao primeiro sinal de erro, compiladores robustos implementam estratégias de recuperação, sendo o "Modo Pânico" a mais comum. Nessa abordagem, ao encontrar uma sintaxe inválida, o analisador descarta os tokens seguintes até alcançar um ponto de sincronização seguro, como um ponto e vírgula ou o fechamento de chaves. Isso permite que o processo continue, identificando e reportando múltiplos erros em uma única passagem, o que agiliza significativamente o ciclo de correção por parte do programador.</p><h4 id=analisador-semântico><span class=heading-text>Analisador Semântico</span><span class=heading-arabic>4.2.1.3</span></h4><p>Mesmo que uma frase seja gramaticalmente correta, ela pode não fazer sentido. O analisador semântico verifica restrições que as etapas anteriores ignoraram, com destaque para a tipagem das variáveis. É nesta fase que garantimos, por exemplo, que não estamos tentando somar um número a uma string, ou, caso a linguagem permita, que as conversões implícitas necessárias sejam inseridas.</p><p>Além da tipagem, o analisador semântico valida escopos. Ele confirma se as variáveis e funções utilizadas foram devidamente declaradas no contexto em que aparecem. Enquanto o analisador sintático aceitaria a soma de duas variáveis quaisquer, o semântico rejeitaria a operação caso uma delas não existisse ou fosse de um tipo incompatível.</p><div class="callout callout-note"><div class=callout-title><span class=callout-icon><svg viewbox="0 0 24 24" fill=none height=16 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=16 xmlns=http://www.w3.org/2000/svg><path d="M15.5 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3z"/><path d="M15 3v6h6"/><path d="M9 13h6"/><path d="M9 17h3"/></svg></span><span class=callout-title-inner>Estrutura de dados</span></div><div class=callout-content><p>Estrutura Vale ressaltar que a análise semântica continua operando sobre a AST. As verificações e anotações são feitas diretamente nessa estrutura, que servirá de base até as etapas finais de geração de código.</p></div></div><h3 id=back-end><span class=heading-text>Back-end</span><span class=heading-arabic>4.2.2</span></h3><p>Uma vez que temos uma AST válida, sintática e semanticamente, o foco muda para a eficiência e a tradução final. O back-end realiza otimizações na árvore para melhorar o desempenho e, finalmente, gera o código alvo. Devido à complexidade de otimizar para arquiteturas modernas, muitas vezes delegamos essa tarefa a ferramentas como o LLVM. No entanto, nesta disciplina, utilizaremos uma máquina virtual simplificada para explorar esses conceitos de forma didática.</p><p>O diagrama a seguir ilustra o fluxo final, partindo da Representação Intermediária (IR).</p><div class=no-break><div class=centered><svg class="svg-graph graphviz-img" viewbox="0.00 0.00 327.00 434.00" data-sketch=true width=250 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 430)" class=graph id=graph0><title>VerticalBackend</title><g class=node id=node1><title>TS</title><path d="M137,-426C137,-426 12,-426 12,-426 6,-426 0,-420 0,-414 0,-414 0,-402 0,-402 0,-396 6,-390 12,-390 12,-390 137,-390 137,-390 143,-390 149,-396 149,-402 149,-402 149,-414 149,-414 149,-420 143,-426 137,-426" fill=transparent stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=74.5 y=-404.3>Tabela de Símbolos</text></g><g class=node id=node2><title>RI1</title><path d="M274,-426C274,-426 197,-426 197,-426 191,-426 185,-420 185,-414 185,-414 185,-402 185,-402 185,-396 191,-390 197,-390 197,-390 274,-390 274,-390 280,-390 286,-396 286,-402 286,-402 286,-414 286,-414 286,-420 280,-426 274,-426" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-404.3>IR (Entrada)</text></g><g class=node id=node3><title>OIM</title><path d="M290.5,-361C290.5,-361 180.5,-361 180.5,-361 174.5,-361 168.5,-355 168.5,-349 168.5,-349 168.5,-337 168.5,-337 168.5,-331 174.5,-325 180.5,-325 180.5,-325 290.5,-325 290.5,-325 296.5,-325 302.5,-331 302.5,-337 302.5,-337 302.5,-349 302.5,-349 302.5,-355 296.5,-361 290.5,-361" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-339.3>Otimizador Geral</text></g><g class=edge id=edge1><title>RI1->OIM</title><path d="M235.5,-389.78C235.5,-383.26 235.5,-375.69 235.5,-368.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-368.19 235.5,-361.19 233.05,-368.19 237.95,-368.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g><g class=node id=node4><title>RI2</title><path d="M281.5,-296C281.5,-296 189.5,-296 189.5,-296 183.5,-296 177.5,-290 177.5,-284 177.5,-284 177.5,-272 177.5,-272 177.5,-266 183.5,-260 189.5,-260 189.5,-260 281.5,-260 281.5,-260 287.5,-260 293.5,-266 293.5,-272 293.5,-272 293.5,-284 293.5,-284 293.5,-290 287.5,-296 281.5,-296" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-274.3>IR (Otimizada)</text></g><g class=edge id=edge2><title>OIM->RI2</title><path d="M235.5,-324.78C235.5,-318.26 235.5,-310.69 235.5,-303.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-303.19 235.5,-296.19 233.05,-303.19 237.95,-303.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g><g class=node id=node5><title>GC</title><path d="M297,-231C297,-231 174,-231 174,-231 168,-231 162,-225 162,-219 162,-219 162,-207 162,-207 162,-201 168,-195 174,-195 174,-195 297,-195 297,-195 303,-195 309,-201 309,-207 309,-207 309,-219 309,-219 309,-225 303,-231 297,-231" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-209.3>Gerador de Código</text></g><g class=edge id=edge3><title>RI2->GC</title><path d="M235.5,-259.78C235.5,-253.26 235.5,-245.69 235.5,-238.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-238.19 235.5,-231.19 233.05,-238.19 237.95,-238.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g><g class=node id=node6><title>CMA1</title><path d="M305,-166C305,-166 166,-166 166,-166 160,-166 154,-160 154,-154 154,-154 154,-142 154,-142 154,-136 160,-130 166,-130 166,-130 305,-130 305,-130 311,-130 317,-136 317,-142 317,-142 317,-154 317,-154 317,-160 311,-166 305,-166" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-144.3>Código Máquina Alvo</text></g><g class=edge id=edge4><title>GC->CMA1</title><path d="M235.5,-194.78C235.5,-188.26 235.5,-180.69 235.5,-173.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-173.19 235.5,-166.19 233.05,-173.19 237.95,-173.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g><g class=node id=node7><title>ODM</title><path d="M307,-101C307,-101 164,-101 164,-101 158,-101 152,-95 152,-89 152,-89 152,-77 152,-77 152,-71 158,-65 164,-65 164,-65 307,-65 307,-65 313,-65 319,-71 319,-77 319,-77 319,-89 319,-89 319,-95 313,-101 307,-101" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-79.3>Otimizador Específico</text></g><g class=edge id=edge5><title>CMA1->ODM</title><path d="M235.5,-129.78C235.5,-123.26 235.5,-115.69 235.5,-108.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-108.19 235.5,-101.19 233.05,-108.19 237.95,-108.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g><g class=node id=node8><title>CMA2</title><path d="M274,-36C274,-36 197,-36 197,-36 191,-36 185,-30 185,-24 185,-24 185,-12 185,-12 185,-6 191,0 197,0 197,0 274,0 274,0 280,0 286,-6 286,-12 286,-12 286,-24 286,-24 286,-30 280,-36 274,-36" fill=none stroke=#8a6cff stroke-width=1.5 /><text fill=#333333 font-family=Helvetica,sans-Serif font-size=14.00 text-anchor=middle x=235.5 y=-14.3>Código Final</text></g><g class=edge id=edge6><title>ODM->CMA2</title><path d="M235.5,-64.78C235.5,-58.26 235.5,-50.69 235.5,-43.61" fill=none stroke=#333333 stroke-width=1.2 /><polygon points="237.95,-43.19 235.5,-36.19 233.05,-43.19 237.95,-43.19" fill=#333333 stroke=#333333 stroke-width=1.2 /></g></g></svg></div></div><h4 id=otimização><span class=heading-text>Otimização</span><span class=heading-arabic>4.2.2.1</span></h4><p>Utilizando a AST, podemos identificar padrões que permitem simplificar o código. Vamos examinar um caso simples de otimização conhecido como Constant Folding (dobra de constantes). Imagine a seguinte árvore:</p><div class=no-break><div class=centered><svg class="svg-graph ast-plot-img" viewbox="0.00 0.00 266.50 239.00" data-sketch=true width=250 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 235)" class=graph id=graph0><title>AST</title><g class=node id=node1><title>n0</title><path d="M187,-231C187,-231 157,-231 157,-231 151,-231 145,-225 145,-219 145,-219 145,-207 145,-207 145,-201 151,-195 157,-195 157,-195 187,-195 187,-195 193,-195 199,-201 199,-207 199,-207 199,-219 199,-219 199,-225 193,-231 187,-231" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=172 y=-208>=</text></g><g class=node id=node2><title>n8</title><path d="M137,-166C137,-166 107,-166 107,-166 101,-166 95,-160 95,-154 95,-154 95,-142 95,-142 95,-136 101,-130 107,-130 107,-130 137,-130 137,-130 143,-130 149,-136 149,-142 149,-142 149,-154 149,-154 149,-160 143,-166 137,-166" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=122 y=-143>+</text></g><g class=edge id=edge2><title>n0->n8</title><path d="M158.34,-194.78C152.72,-187.7 146.12,-179.39 140.11,-171.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="141.92,-170.15 135.65,-166.19 138.08,-173.2 141.92,-170.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node4><title>n7</title><path d="M246.5,-166C246.5,-166 197.5,-166 197.5,-166 191.5,-166 185.5,-160 185.5,-154 185.5,-154 185.5,-142 185.5,-142 185.5,-136 191.5,-130 197.5,-130 197.5,-130 246.5,-130 246.5,-130 252.5,-130 258.5,-136 258.5,-142 258.5,-142 258.5,-154 258.5,-154 258.5,-160 252.5,-166 246.5,-166" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=222 y=-143>&lt;id,1></text></g><g class=edge id=edge1><title>n0->n7</title><path d="M185.66,-194.78C191.28,-187.7 197.88,-179.39 203.89,-171.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="205.92,-173.2 208.35,-166.19 202.08,-170.15 205.92,-173.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node3><title>n10</title><path d="M87,-101C87,-101 57,-101 57,-101 51,-101 45,-95 45,-89 45,-89 45,-77 45,-77 45,-71 51,-65 57,-65 57,-65 87,-65 87,-65 93,-65 99,-71 99,-77 99,-77 99,-89 99,-89 99,-95 93,-101 87,-101" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=72 y=-78>∗</text></g><g class=edge id=edge4><title>n8->n10</title><path d="M108.34,-129.78C102.72,-122.7 96.12,-114.39 90.11,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="91.92,-105.15 85.65,-101.19 88.08,-108.2 91.92,-105.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node5><title>n9</title><path d="M196.5,-101C196.5,-101 147.5,-101 147.5,-101 141.5,-101 135.5,-95 135.5,-89 135.5,-89 135.5,-77 135.5,-77 135.5,-71 141.5,-65 147.5,-65 147.5,-65 196.5,-65 196.5,-65 202.5,-65 208.5,-71 208.5,-77 208.5,-77 208.5,-89 208.5,-89 208.5,-95 202.5,-101 196.5,-101" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=172 y=-78>&lt;id,2></text></g><g class=edge id=edge3><title>n8->n9</title><path d="M135.66,-129.78C141.28,-122.7 147.88,-114.39 153.89,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="155.92,-108.2 158.35,-101.19 152.08,-105.15 155.92,-108.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node6><title>n11</title><path d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=27 y=-13>20</text></g><g class=edge id=edge5><title>n10->n11</title><path d="M59.7,-64.78C54.74,-57.84 48.94,-49.72 43.62,-42.26" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="45.34,-40.47 39.28,-36.19 41.36,-43.31 45.34,-40.47" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node7><title>n12</title><path d="M132,-36C132,-36 102,-36 102,-36 96,-36 90,-30 90,-24 90,-24 90,-12 90,-12 90,-6 96,0 102,0 102,0 132,0 132,0 138,0 144,-6 144,-12 144,-12 144,-24 144,-24 144,-30 138,-36 132,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=117 y=-13>60</text></g><g class=edge id=edge6><title>n10->n12</title><path d="M84.3,-64.78C89.26,-57.84 95.06,-49.72 100.38,-42.26" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="102.64,-43.31 104.72,-36.19 98.66,-40.47 102.64,-43.31" fill=#333333 stroke=#333333 stroke-width=1.5 /></g></g></svg></div></div><p>Observe que o nó de multiplicação possui dois números inteiros literais como filhos (20 e 60). Como esses valores são constantes, o resultado da operação será invariavelmente 1200. Calcular isso em tempo de execução seria um desperdício de ciclos de CPU. O compilador pode, portanto, antecipar esse cálculo e substituir a subárvore pelo resultado:</p><div class=no-break><div class=centered><svg class="svg-graph ast-plot-img" viewbox="0.00 0.00 233.00 174.00" data-sketch=true width=200 xmlns=http://www.w3.org/2000/svg><g transform="scale(1 1) rotate(0) translate(4 170)" class=graph id=graph0><title>AST</title><g class=node id=node1><title>n0</title><path d="M153.5,-166C153.5,-166 123.5,-166 123.5,-166 117.5,-166 111.5,-160 111.5,-154 111.5,-154 111.5,-142 111.5,-142 111.5,-136 117.5,-130 123.5,-130 123.5,-130 153.5,-130 153.5,-130 159.5,-130 165.5,-136 165.5,-142 165.5,-142 165.5,-154 165.5,-154 165.5,-160 159.5,-166 153.5,-166" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=138.5 y=-143>=</text></g><g class=node id=node2><title>n14</title><path d="M103.5,-101C103.5,-101 73.5,-101 73.5,-101 67.5,-101 61.5,-95 61.5,-89 61.5,-89 61.5,-77 61.5,-77 61.5,-71 67.5,-65 73.5,-65 73.5,-65 103.5,-65 103.5,-65 109.5,-65 115.5,-71 115.5,-77 115.5,-77 115.5,-89 115.5,-89 115.5,-95 109.5,-101 103.5,-101" fill=transparent stroke=#8a6cff stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#8a6cff font-size=20.00 text-anchor=middle x=88.5 y=-78>+</text></g><g class=edge id=edge2><title>n0->n14</title><path d="M124.84,-129.78C119.22,-122.7 112.62,-114.39 106.61,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="108.42,-105.15 102.15,-101.19 104.58,-108.2 108.42,-105.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node3><title>n13</title><path d="M213,-101C213,-101 164,-101 164,-101 158,-101 152,-95 152,-89 152,-89 152,-77 152,-77 152,-71 158,-65 164,-65 164,-65 213,-65 213,-65 219,-65 225,-71 225,-77 225,-77 225,-89 225,-89 225,-95 219,-101 213,-101" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=188.5 y=-78>&lt;id,1></text></g><g class=edge id=edge1><title>n0->n13</title><path d="M152.16,-129.78C157.78,-122.7 164.38,-114.39 170.39,-106.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="172.42,-108.2 174.85,-101.19 168.58,-105.15 172.42,-108.2" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node4><title>n15</title><path d="M61,-36C61,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 61,0 61,0 67,0 73,-6 73,-12 73,-12 73,-24 73,-24 73,-30 67,-36 61,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=36.5 y=-13>&lt;id,2></text></g><g class=edge id=edge3><title>n14->n15</title><path d="M74.29,-64.78C68.44,-57.7 61.59,-49.39 55.33,-41.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="57.04,-40.03 50.69,-36.19 53.26,-43.15 57.04,-40.03" fill=#333333 stroke=#333333 stroke-width=1.5 /></g><g class=node id=node5><title>n16</title><path d="M159.5,-36C159.5,-36 121.5,-36 121.5,-36 115.5,-36 109.5,-30 109.5,-24 109.5,-24 109.5,-12 109.5,-12 109.5,-6 115.5,0 121.5,0 121.5,0 159.5,0 159.5,0 165.5,0 171.5,-6 171.5,-12 171.5,-12 171.5,-24 171.5,-24 171.5,-30 165.5,-36 159.5,-36" fill=transparent stroke=transparent stroke-width=2 /><text font-family="JetBrains Mono, Fira Code, Consolas, Helvetica" fill=#333333 font-size=20.00 text-anchor=middle x=140.5 y=-13>1200</text></g><g class=edge id=edge4><title>n14->n16</title><path d="M102.71,-64.78C108.56,-57.7 115.41,-49.39 121.67,-41.82" fill=none stroke=#333333 stroke-width=1.5 /><polygon points="123.74,-43.15 126.31,-36.19 119.96,-40.03 123.74,-43.15" fill=#333333 stroke=#333333 stroke-width=1.5 /></g></g></svg></div></div><p>Ao realizar essa substituição, o compilador reduz o número de operações que o processador precisará executar, otimizando o programa final sem alterar sua lógica. Embora este seja um exemplo elementar, ele ilustra o princípio geral de buscar eficiência antes da geração do código final.</p><h4 id=geração-de-código><span class=heading-text>Geração de código</span><span class=heading-arabic>4.2.2.2</span></h4><p>A etapa final consiste em percorrer a árvore sintática otimizada e emitir as instruções correspondentes para a arquitetura alvo. Geralmente, utilizamos um padrão de projeto conhecido como Visitor, que navega pelos nós da árvore e gera o código equivalente para cada estrutura encontrada. Nesta disciplina, a geração será direcionada para a nossa máquina virtual educacional, permitindo uma compreensão clara do processo sem a complexidade excessiva de uma CPU física moderna.</p><h2 id=questões><span class=heading-text>Questões</span><span class=heading-arabic>4.3</span></h2><ol><li><p>Utilizando a analogia com a linguagem natural apresentada no texto (análise morfológica vs. análise gramatical), explique a diferença fundamental entre as responsabilidades do analisador léxico e do analisador sintático além disso, diga o que cada um produz como saída.<br><br></p></li><li><p>O analisador sintático é capaz de confirmar que a expressão numero + texto está estruturalmente correta (um operador somando dois identificadores). No entanto, isso não garante que o programa esteja correto. Explique como o analisador semântico atua nesse cenário e cite outro tipo de verificação crítica que é responsabilidade exclusiva desta etapa.<br><br></p></li><li><p>Explique por que é vantajoso para um compilador utilizar estratégias como o "Modo Pânico" em vez de interromper o processo ao encontrar o primeiro erro sintático. Como essa estratégia utiliza "pontos de sincronização" para retomar a análise?<br><br></p></li><li><p>Considere a expressão <code>int x = 2 * 3 + a;</code>. Descreva como o processo de otimização via Constant Folding alteraria a Árvore de Sintaxe Abstrata (AST) dessa expressão antes da geração de código e explique qual é o benefício direto dessa alteração para o programa final.</p></li></ol><h2 id=próximos-passos><span class=heading-text>Próximos passos</span><span class=heading-arabic>4.4</span></h2><p>No próximo capítulo, iniciaremos nossa imersão técnica pelo front-end do compilador focando na <a href=5-introduction-to-lexical-analysis.html>Introdução à análise léxica</a>. Estudaremos como a teoria dos autômatos finitos serve de alicerce para ferramentas consagradas na indústria, como o <em><strong>Lex</strong></em> e o <em><strong>Flex</strong></em>. Contudo, não nos limitaremos à teoria, pois colocaremos a mão na massa para projetar e implementar o código do nosso próprio analisador léxico, dando o primeiro passo concreto na construção da nossa linguagem.</p></div></article><footer class=footer><p>© 2025 · <a href=#>Gabriel Soares Baptista</a></p></footer></main></div><script>const toggle=document.querySelector(`.mobile-menu-toggle`),sidebar=document.querySelector(`.sidebar`),overlay=document.querySelector(`.mobile-menu-overlay`);function openMenu(){sidebar.classList.add(`open`),overlay.classList.add(`open`),toggle.classList.add(`open`),document.body.style.overflow=`hidden`}function closeMenu(){sidebar.classList.remove(`open`),overlay.classList.remove(`open`),toggle.classList.remove(`open`),document.body.style.overflow=``}toggle.addEventListener(`click`,()=>{sidebar.classList.contains(`open`)?closeMenu():openMenu()}),overlay.addEventListener(`click`,closeMenu);</script><script src=/js/bundle.min.js></script><script>document.addEventListener(`DOMContentLoaded`,function(){renderMathInElement(document.body,{delimiters:[{left:`$$`,right:`$$`,display:!0},{left:`$`,right:`$`,display:!1},{left:`\\(`,right:`\\)`,display:!1},{left:`\\[`,right:`\\]`,display:!0}],throwOnError:!1})});</script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-perl.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup-templating.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-php.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js></script><script>document.addEventListener(`DOMContentLoaded`,function(){let isSubcourse=!1,courseName=`Compiladores`;CourseForgeNav.applyDynamicBreadcrumbs(`.breadcrumb`,!1),CourseForgeNav.initSidebar(),CourseForgeNav.initScrollSpy(),CourseForgeUI.initCopyButtons()});function handleBackNavigation(){let isSubcourse=!1,dynamic=CourseForgeNav.getBackLink(`contents.html`,`Voltar`,!1);window.location.href=dynamic.url}</script></body></html>